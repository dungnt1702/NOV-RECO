{% extends 'base.html' %}
{% load static %}
{% csrf_token %}

{% block title %}Danh sÃ¡ch Check-in - NOV-RECO{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/checkin_list.css' %}">
{% endblock %}

{% block content %}
  <div class="dashboard-page">
    {% csrf_token %}
    <div class="dashboard-container">
      <div class="dashboard-header">
        <h1>ğŸ“‹ Danh sÃ¡ch Check-in</h1>
        <p class="dashboard-subtitle">Xem vÃ  quáº£n lÃ½ táº¥t cáº£ check-in trong há»‡ thá»‘ng</p>
      </div>


    <div class="dashboard-content">
      <!-- Filters -->
      <div class="filters">
        <div class="filter-group">
          <label class="filter-label">ğŸ” TÃ¬m kiáº¿m</label>
          <input type="text" id="search-input" class="filter-input" placeholder="TÃ¬m theo tÃªn, khu vá»±c, ghi chÃº...">
        </div>
        <div class="filter-group">
          <label class="filter-label">ğŸ“… Tá»« ngÃ y</label>
          <input type="date" id="date-from" class="filter-input">
        </div>
        <div class="filter-group">
          <label class="filter-label">ğŸ“… Äáº¿n ngÃ y</label>
          <input type="date" id="date-to" class="filter-input">
        </div>
        <div class="filter-group">
          <label class="filter-label">ğŸ‘¤ NgÆ°á»i dÃ¹ng</label>
          <select id="user-filter" class="filter-input">
            <option value="">Táº¥t cáº£ ngÆ°á»i dÃ¹ng</option>
          </select>
        </div>
        <div class="filter-group">
          <button type="button" onclick="clearFilters()" class="btn btn-secondary">
            ğŸ—‘ï¸ XÃ³a bá»™ lá»c
          </button>
        </div>
      </div>

      <!-- Check-in List -->
      <div class="table-container">
        <table class="table">
          <thead>
            <tr>
              <th>ID</th>
              <th>NgÆ°á»i dÃ¹ng</th>
              <th>Äá»‹a Ä‘iá»ƒm</th>
              <th>Tá»a Ä‘á»™</th>
              <th>Khoáº£ng cÃ¡ch</th>
              <th>Thá»i gian</th>
              <th>Ghi chÃº</th>
              <th>áº¢nh</th>
            </tr>
          </thead>
          <tbody id="checkins-table">
            <!-- Check-ins will be loaded here via JavaScript -->
          </tbody>
        </table>
      </div>

      <!-- Mobile Cards -->
      <div class="mobile-cards" id="mobile-cards">
        <!-- Mobile cards will be loaded here via JavaScript -->
      </div>

      <!-- Pagination Component -->
      {% include 'components/pagination.html' %}

      <!-- Actions -->
      <div class="actions">
        <button onclick="loadCheckins()" class="action-button">
          ğŸ”„ Táº£i láº¡i
        </button>
        <button onclick="exportData()" class="action-button success">
          ğŸ“¥ Xuáº¥t dá»¯ liá»‡u
        </button>
        <a href="{% url 'user_history' %}" class="action-button secondary">
          ğŸ“Š Lá»‹ch sá»­ cÃ¡ nhÃ¢n
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'js/checkin_list.js' %}"></script>
{% endblock %}