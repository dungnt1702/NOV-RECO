{% extends 'base.html' %}
{% load static %}

{% block title %}Employee Dashboard - NOV-RECO{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/employee_dashboard.css' %}">
{% endblock %}

{% block content %}
  <div class="dashboard-container">
    <div class="dashboard-header">
      <h1>Employee Dashboard</h1>
      <p class="dashboard-subtitle">Chào mừng {{ user.get_display_name }}</p>
    </div>

    <div class="dashboard-content">
      <!-- Statistics -->
      <div class="stats">
        <div class="stat-card">
          <div class="stat-number">{{ my_checkins }}</div>
          <div class="stat-label">Check-in của tôi</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ this_month_checkins }}</div>
          <div class="stat-label">Tháng này</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ today_checkins }}</div>
          <div class="stat-label">Hôm nay</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ last_checkin_days|default:"-" }}</div>
          <div class="stat-label">Ngày check-in cuối</div>
        </div>
      </div>

      <!-- Quick Info -->
      <div class="quick-info">
        <div class="info-title">Thông tin cá nhân</div>
        <div class="info-grid">
          <div class="info-item">
            <div class="info-label">Họ tên</div>
            <div class="info-value">{{ user.get_display_name }}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Email</div>
            <div class="info-value">{{ user.email }}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Phòng ban</div>
            <div class="info-value">{{ user.department|default:"Chưa cập nhật" }}</div>
          </div>
          <div class="info-item">
            <div class="info-label">Mã nhân viên</div>
            <div class="info-value">{{ user.employee_id|default:"Chưa có" }}</div>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="actions">
        <a href="{% url 'checkin_page' %}" class="action-button">
          <i class="fas fa-map-marker-alt"></i>
          Check-in ngay
        </a>
        <a href="{% url 'user_history' %}" class="action-button">
          <i class="fas fa-history"></i>
          Lịch sử của tôi
        </a>
        <a href="{% url 'quick_checkin' %}" class="action-button secondary">
          <i class="fas fa-bolt"></i>
          Check-in nhanh
        </a>
      </div>
    </div>
  </div>
{% endblock %}
