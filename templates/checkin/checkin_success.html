{% extends 'base.html' %}
{% load static %}

{% block title %}Check-in ThÃ nh CÃ´ng - NOV-RECO{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/checkin_success.css' %}">
{% endblock %}

{% block content %}
  <div class="success-container">
    <div class="success-icon">ğŸ‰</div>
    <h1 class="success-title">Check-in ThÃ nh CÃ´ng!</h1>
    <p class="success-subtitle">Báº¡n Ä‘Ã£ check-in thÃ nh cÃ´ng vá»›i cÃ¡c thÃ´ng tin bÃªn dÆ°á»›i</p>
    
    <div class="checkin-info">
      <div class="info-item">
        <span class="info-label">ğŸ‘¤ Há» tÃªn</span>
        <span class="info-value" id="user-name">Äang táº£i...</span>
      </div>
      
      <div class="info-item">
        <span class="info-label">ğŸ“§ Email</span>
        <span class="info-value" id="user-email">Äang táº£i...</span>
      </div>
      
      <div class="info-item">
        <span class="info-label">ğŸ¢ PhÃ²ng ban</span>
        <span class="info-value" id="user-department">Äang táº£i...</span>
      </div>
      
      <div class="info-item">
        <span class="info-label">ğŸ†” MÃ£ nhÃ¢n viÃªn</span>
        <span class="info-value" id="user-employee-id">Äang táº£i...</span>
      </div>
      
      <div class="info-item">
        <span class="info-label">ğŸ“ Vá»‹ trÃ­</span>
        <span class="info-value" id="location-name">Äang táº£i...</span>
      </div>
      
      <div class="info-item">
        <span class="info-label">ğŸ—ºï¸ Tá»a Ä‘á»™</span>
        <span class="info-value">
          <span class="coordinates" id="coordinates">Äang táº£i...</span>
        </span>
      </div>
      
      <div class="info-item">
        <span class="info-label">ğŸ“… Thá»i gian</span>
        <span class="info-value" id="checkin-time">Äang táº£i...</span>
      </div>
      
      <div class="info-item" id="note-item" style="display: none;">
        <span class="info-label">ğŸ“ Ghi chÃº</span>
        <span class="info-value" id="note-text">-</span>
      </div>
    </div>
    
    <div id="photo-container" style="display: none;">
      <img id="photo-preview" class="photo-preview" alt="áº¢nh check-in">
    </div>
    
    <div class="actions">
      <a href="/checkin/action/" class="btn btn-primary">ğŸ“ Check-in Má»›i</a>
      <a href="/" class="btn btn-secondary">ğŸ  Trang chá»§</a>
      <a href="/checkin/quick/" class="btn btn-accent">âš¡ Check-in Láº¡i</a>
      <a href="javascript:window.print()" class="btn btn-outline">ğŸ–¨ï¸ In</a>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
<script>
// Pass checkin data to JavaScript securely via template context
window.checkinSuccessData = {
  userName: "{{ success_data.user_name|escapejs }}",
  userEmail: "{{ success_data.user_email|escapejs }}",
  userDepartment: "{{ success_data.user_department|escapejs }}",
  userEmployeeId: "{{ success_data.user_employee_id|escapejs }}",
  locationName: "{{ success_data.area_name|escapejs }}",
  coordinates: "{{ success_data.coordinates|escapejs }}",
  checkinTime: "{{ success_data.checkin_time|escapejs }}",
  note: "{{ success_data.note|escapejs }}",
  photoUrl: "{{ success_data.photo_url|escapejs }}"
};
</script>
<script src="{% static 'js/checkin_success.js' %}"></script>
{% endblock %}